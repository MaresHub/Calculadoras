<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadora Insanamente Animada</title>
    <style>
      :root {
        --primary: #6366f1;
        --secondary: #8b5cf6;
        --accent: #06b6d4;
        --success: #10b981;
        --warning: #f59e0b;
        --error: #ef4444;
        --bg-primary: #0f172a;
        --bg-secondary: #1e293b;
        --bg-tertiary: #334155;
        --text-primary: #f8fafc;
        --text-secondary: #cbd5e1;
        --glass: rgba(255, 255, 255, 0.1);
        --glass-border: rgba(255, 255, 255, 0.2);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "SF Pro Display", -apple-system, BlinkMacSystemFont,
          sans-serif;
        background: linear-gradient(
          135deg,
          var(--bg-primary) 0%,
          var(--bg-secondary) 100%
        );
        min-height: 100vh;
        overflow: hidden;
        position: relative;
        cursor: none;
      }

      /* CURSOR CUSTOMIZADO INSANO */
      .custom-cursor {
        position: fixed;
        width: 20px;
        height: 20px;
        background: radial-gradient(circle, #ff00ff, #00ffff);
        border-radius: 50%;
        pointer-events: none;
        z-index: 10000;
        mix-blend-mode: difference;
        animation: cursorPulse 1s ease-in-out infinite alternate;
      }

      @keyframes cursorPulse {
        0% {
          transform: scale(1);
          box-shadow: 0 0 20px #ff00ff;
        }
        100% {
          transform: scale(1.5);
          box-shadow: 0 0 40px #00ffff;
        }
      }

      /* FUNDO INSANAMENTE ANIMADO */
      .insane-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 20% 80%,
            var(--primary) 0%,
            transparent 50%
          ),
          radial-gradient(
            circle at 80% 20%,
            var(--secondary) 0%,
            transparent 50%
          ),
          radial-gradient(circle at 40% 40%, var(--accent) 0%, transparent 50%),
          conic-gradient(
            from 0deg,
            #ff0000,
            #ff8000,
            #ffff00,
            #80ff00,
            #00ff00,
            #00ff80,
            #00ffff,
            #0080ff,
            #0000ff,
            #8000ff,
            #ff00ff,
            #ff0080,
            #ff0000
          );
        opacity: 0.3;
        animation: bgRotate 10s linear infinite,
          bgScale 8s ease-in-out infinite alternate, bgHue 15s linear infinite;
        pointer-events: none;
      }

      @keyframes bgRotate {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      @keyframes bgScale {
        0% {
          transform: scale(1);
        }
        100% {
          transform: scale(1.2);
        }
      }

      @keyframes bgHue {
        0% {
          filter: hue-rotate(0deg) brightness(1);
        }
        50% {
          filter: hue-rotate(180deg) brightness(1.5);
        }
        100% {
          filter: hue-rotate(360deg) brightness(1);
        }
      }

      /* PARTÍCULAS QUE SEGUEM O MOUSE */
      .mouse-trail {
        position: fixed;
        width: 6px;
        height: 6px;
        background: radial-gradient(circle, #ff00ff, #00ffff);
        border-radius: 50%;
        pointer-events: none;
        z-index: 9999;
        animation: trailFade 2s ease-out forwards;
      }

      @keyframes trailFade {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        100% {
          transform: scale(0);
          opacity: 0;
        }
      }

      /* NÚMEROS VOADORES INSANOS */
      .flying-numbers {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
      }

      .flying-number {
        position: absolute;
        font-size: 2rem;
        font-weight: bold;
        color: #ff00ff;
        text-shadow: 0 0 20px currentColor;
        animation: flyAround 10s linear infinite;
      }

      @keyframes flyAround {
        0% {
          transform: translate(0, 100vh) rotate(0deg) scale(0);
          opacity: 0;
        }
        10% {
          opacity: 1;
          transform: translate(0, 90vh) rotate(36deg) scale(1);
        }
        90% {
          opacity: 1;
          transform: translate(100vw, -10vh) rotate(324deg) scale(1.5);
        }
        100% {
          transform: translate(110vw, -20vh) rotate(360deg) scale(0);
          opacity: 0;
        }
      }

      /* SISTEMA DE CORDÃO FÍSICO */
      .rope-system {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 5000;
      }

      .rope-segment {
        position: absolute;
        width: 4px;
        height: 20px;
        background: linear-gradient(to bottom, #8b5cf6, #6366f1);
        border-radius: 2px;
        transform-origin: top center;
        box-shadow: 0 0 10px rgba(139, 92, 246, 0.5);
      }

      .rope-anchor {
        position: fixed;
        top: 50px;
        left: 50%;
        transform: translateX(-50%);
        width: 20px;
        height: 20px;
        background: radial-gradient(circle, #ffd700, #ff8c00);
        border-radius: 50%;
        box-shadow: 0 0 20px #ffd700;
        animation: anchorGlow 2s ease-in-out infinite alternate;
        z-index: 5001;
      }

      @keyframes anchorGlow {
        0% {
          box-shadow: 0 0 20px #ffd700;
        }
        100% {
          box-shadow: 0 0 40px #ffd700, 0 0 60px #ff8c00;
        }
      }

      /* CALCULADORA COM FÍSICA INSANA */
      .calculator-physics {
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        transition: none;
        z-index: 1000;
        cursor: grab;
      }

      .calculator-physics:active {
        cursor: grabbing;
      }

      .calculator-container {
        background: var(--glass);
        backdrop-filter: blur(30px);
        border-radius: 24px;
        border: 2px solid var(--glass-border);
        box-shadow: 0 32px 64px rgba(0, 0, 0, 0.4),
          inset 0 1px 0 rgba(255, 255, 255, 0.2),
          0 0 100px rgba(139, 92, 246, 0.6);
        padding: 24px;
        width: 380px;
        animation: calculatorBreathe 4s ease-in-out infinite,
          calculatorDance 8s ease-in-out infinite,
          calculatorGlow 3s ease-in-out infinite alternate;
        position: relative;
        overflow: hidden;
      }

      @keyframes calculatorBreathe {
        0%,
        100% {
          transform: scale(1) rotateZ(0deg);
        }
        50% {
          transform: scale(1.02) rotateZ(1deg);
        }
      }

      @keyframes calculatorDance {
        0%,
        100% {
          transform: translateY(0px) rotateX(0deg);
        }
        25% {
          transform: translateY(-5px) rotateX(2deg);
        }
        50% {
          transform: translateY(0px) rotateX(0deg);
        }
        75% {
          transform: translateY(-3px) rotateX(-1deg);
        }
      }

      @keyframes calculatorGlow {
        0% {
          box-shadow: 0 32px 64px rgba(0, 0, 0, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.2),
            0 0 100px rgba(139, 92, 246, 0.6);
        }
        100% {
          box-shadow: 0 32px 64px rgba(0, 0, 0, 0.4),
            inset 0 1px 0 rgba(255, 255, 255, 0.2),
            0 0 150px rgba(6, 182, 212, 0.8), 0 0 200px rgba(255, 0, 255, 0.4);
        }
      }

      /* ENERGIA ELÉTRICA CIRCULANDO */
      .electric-energy {
        position: absolute;
        top: -10px;
        left: -10px;
        right: -10px;
        bottom: -10px;
        border: 2px solid transparent;
        border-radius: 30px;
        background: linear-gradient(45deg, #00ffff, #ff00ff, #ffff00, #00ff00)
          border-box;
        mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
        mask-composite: exclude;
        animation: electricFlow 2s linear infinite;
      }

      @keyframes electricFlow {
        0% {
          transform: rotate(0deg);
          filter: hue-rotate(0deg) brightness(1);
        }
        100% {
          transform: rotate(360deg);
          filter: hue-rotate(360deg) brightness(1.5);
        }
      }

      /* DISPLAY COM EFEITOS INSANOS */
      .display-container {
        background: var(--bg-secondary);
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 20px;
        position: relative;
        overflow: hidden;
        border: 2px solid var(--glass-border);
        animation: displayPulse 2s ease-in-out infinite alternate;
      }

      @keyframes displayPulse {
        0% {
          background: var(--bg-secondary);
          border-color: var(--glass-border);
        }
        100% {
          background: rgba(99, 102, 241, 0.2);
          border-color: rgba(99, 102, 241, 0.8);
        }
      }

      /* SCANNER HOLOGRÁFICO INSANO */
      .hologram-scanner {
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(0, 255, 255, 0.3),
          rgba(255, 0, 255, 0.3),
          rgba(255, 255, 0, 0.3),
          transparent
        );
        animation: holoScan 3s infinite;
      }

      @keyframes holoScan {
        0% {
          left: -100%;
        }
        100% {
          left: 100%;
        }
      }

      /* INTERFERÊNCIA QUÂNTICA */
      .quantum-interference {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: repeating-linear-gradient(
          0deg,
          transparent,
          transparent 1px,
          rgba(0, 255, 255, 0.05) 1px,
          rgba(0, 255, 255, 0.05) 2px
        );
        animation: interferenceFlicker 0.1s infinite;
      }

      @keyframes interferenceFlicker {
        0%,
        98% {
          opacity: 1;
        }
        99%,
        100% {
          opacity: 0.7;
        }
      }

      .result {
        color: var(--text-primary);
        font-size: 2.5rem;
        font-weight: 300;
        text-align: right;
        min-height: 60px;
        display: flex;
        align-items: center;
        justify-content: flex-end;
        word-break: break-all;
        text-shadow: 0 0 20px rgba(99, 102, 241, 0.8),
          0 0 40px rgba(6, 182, 212, 0.6), 0 0 60px rgba(255, 0, 255, 0.4);
        position: relative;
        animation: resultGlow 2s ease-in-out infinite alternate;
      }

      @keyframes resultGlow {
        0% {
          text-shadow: 0 0 20px rgba(99, 102, 241, 0.8),
            0 0 40px rgba(6, 182, 212, 0.6);
          transform: scale(1);
        }
        100% {
          text-shadow: 0 0 30px rgba(255, 0, 255, 1),
            0 0 60px rgba(0, 255, 255, 0.8), 0 0 90px rgba(255, 255, 0, 0.6);
          transform: scale(1.02);
        }
      }

      .expression {
        color: var(--text-secondary);
        font-size: 1rem;
        margin-bottom: 8px;
        min-height: 20px;
        word-wrap: break-word;
        opacity: 0.8;
        animation: expressionFlicker 3s ease-in-out infinite;
      }

      @keyframes expressionFlicker {
        0%,
        90%,
        100% {
          opacity: 0.8;
        }
        95% {
          opacity: 1;
        }
      }

      /* BOTÕES COM ANIMAÇÕES INSANAS */
      .buttons-container {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 12px;
      }

      .btn {
        background: var(--glass);
        border: 2px solid var(--glass-border);
        border-radius: 12px;
        color: var(--text-primary);
        font-size: 1.2rem;
        font-weight: 600;
        height: 60px;
        cursor: pointer;
        position: relative;
        overflow: hidden;
        backdrop-filter: blur(10px);
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex;
        align-items: center;
        justify-content: center;
        animation: btnFloat 4s ease-in-out infinite;
      }

      @keyframes btnFloat {
        0%,
        100% {
          transform: translateY(0px) rotateZ(0deg);
        }
        25% {
          transform: translateY(-2px) rotateZ(0.5deg);
        }
        50% {
          transform: translateY(0px) rotateZ(0deg);
        }
        75% {
          transform: translateY(-1px) rotateZ(-0.5deg);
        }
      }

      /* EXPLOSÃO NUCLEAR NOS BOTÕES */
      .nuclear-explosion {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        background: radial-gradient(
          circle,
          #ffffff 0%,
          #ffff00 20%,
          #ff6600 40%,
          #ff0000 60%,
          #990000 80%,
          transparent 100%
        );
        border-radius: 50%;
        transform: translate(-50%, -50%);
        opacity: 0;
        pointer-events: none;
      }

      .btn:active .nuclear-explosion {
        animation: nuclearBlast 0.8s ease-out;
      }

      @keyframes nuclearBlast {
        0% {
          width: 0;
          height: 0;
          opacity: 0;
        }
        10% {
          width: 30px;
          height: 30px;
          opacity: 1;
        }
        30% {
          width: 100px;
          height: 100px;
          opacity: 0.8;
        }
        60% {
          width: 200px;
          height: 200px;
          opacity: 0.4;
        }
        100% {
          width: 300px;
          height: 300px;
          opacity: 0;
        }
      }

      /* CAMPO MAGNÉTICO ROTATIVO */
      .magnetic-field {
        position: absolute;
        top: -5px;
        left: -5px;
        right: -5px;
        bottom: -5px;
        background: repeating-conic-gradient(
          from 0deg at 50% 50%,
          transparent 0deg,
          rgba(0, 255, 255, 0.1) 10deg,
          transparent 20deg
        );
        animation: magneticRotation 3s linear infinite;
        border-radius: 15px;
        pointer-events: none;
      }

      @keyframes magneticRotation {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* ONDAS SONORAS VISUAIS */
      .sound-waves {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 100%;
        height: 100%;
        pointer-events: none;
      }

      .sound-wave {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 20px;
        height: 20px;
        border: 2px solid rgba(0, 255, 255, 0.6);
        border-radius: 50%;
        transform: translate(-50%, -50%) scale(0);
        opacity: 0;
      }

      .btn:active .sound-wave {
        animation: soundWaveExpand 1s ease-out;
      }

      @keyframes soundWaveExpand {
        0% {
          transform: translate(-50%, -50%) scale(0);
          opacity: 1;
        }
        100% {
          transform: translate(-50%, -50%) scale(4);
          opacity: 0;
        }
      }

      .btn:hover {
        transform: translateY(-4px) scale(1.05) rotateZ(2deg);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4),
          0 0 30px rgba(255, 255, 255, 0.3),
          inset 0 0 20px rgba(255, 255, 255, 0.1);
        background: rgba(255, 255, 255, 0.2);
        animation: btnHover 0.5s ease-in-out infinite alternate;
      }

      @keyframes btnHover {
        0% {
          filter: hue-rotate(0deg) brightness(1);
        }
        100% {
          filter: hue-rotate(30deg) brightness(1.2);
        }
      }

      /* BOTÕES ESPECIAIS COM EFEITOS ÚNICOS */
      .btn-operator {
        background: linear-gradient(135deg, #ff6b6b, #ee5a24);
        background-size: 200% 200%;
        animation: btnFloat 4s ease-in-out infinite,
          operatorPulse 2s ease infinite;
        color: white;
        font-weight: 700;
      }

      @keyframes operatorPulse {
        0%,
        100% {
          background-position: 0% 50%;
          box-shadow: 0 0 20px rgba(255, 107, 107, 0.6);
        }
        50% {
          background-position: 100% 50%;
          box-shadow: 0 0 40px rgba(255, 107, 107, 1);
        }
      }

      .btn-equals {
        background: linear-gradient(135deg, #00d2d3, #54a0ff);
        background-size: 200% 200%;
        animation: btnFloat 4s ease-in-out infinite,
          equalsEnergy 2s ease infinite;
        grid-column: span 2;
        color: white;
        font-weight: 700;
      }

      @keyframes equalsEnergy {
        0%,
        100% {
          background-position: 0% 50%;
          box-shadow: 0 0 30px rgba(0, 210, 211, 0.8);
        }
        50% {
          background-position: 100% 50%;
          box-shadow: 0 0 60px rgba(0, 210, 211, 1);
        }
      }

      .btn-clear {
        background: linear-gradient(135deg, #ffa726, #ff7043);
        background-size: 200% 200%;
        animation: btnFloat 4s ease-in-out infinite, clearWave 2s ease infinite;
        color: white;
        font-weight: 700;
      }

      @keyframes clearWave {
        0%,
        100% {
          background-position: 0% 50%;
          filter: hue-rotate(0deg);
        }
        50% {
          background-position: 100% 50%;
          filter: hue-rotate(60deg);
        }
      }

      .btn-zero {
        grid-column: span 2;
      }

      /* EFEITOS DE DIGITAÇÃO INSANOS */
      .typing-explosion {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
      }

      .typing-particle {
        position: absolute;
        width: 6px;
        height: 6px;
        background: #00ffff;
        border-radius: 50%;
        animation: typingExplode 1.5s ease-out forwards;
      }

      @keyframes typingExplode {
        0% {
          transform: scale(0) translate(0, 0) rotate(0deg);
          opacity: 1;
          background: #00ffff;
        }
        50% {
          background: #ff00ff;
        }
        100% {
          transform: scale(1) translate(var(--dx), var(--dy)) rotate(720deg);
          opacity: 0;
          background: #ffff00;
        }
      }

      /* MORPHING DE NÚMEROS EXTREMO */
      .number-morph {
        display: inline-block;
        animation: extremeMorph 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      }

      @keyframes extremeMorph {
        0% {
          transform: scale(0) rotateY(180deg) rotateX(180deg) rotateZ(180deg);
          filter: blur(20px) hue-rotate(0deg);
          opacity: 0;
        }
        25% {
          transform: scale(2) rotateY(90deg) rotateX(90deg) rotateZ(90deg);
          filter: blur(10px) hue-rotate(90deg);
          opacity: 0.5;
        }
        50% {
          transform: scale(0.5) rotateY(45deg) rotateX(45deg) rotateZ(45deg);
          filter: blur(5px) hue-rotate(180deg);
          opacity: 0.8;
        }
        75% {
          transform: scale(1.5) rotateY(22deg) rotateX(22deg) rotateZ(22deg);
          filter: blur(2px) hue-rotate(270deg);
          opacity: 0.9;
        }
        100% {
          transform: scale(1) rotateY(0deg) rotateX(0deg) rotateZ(0deg);
          filter: blur(0px) hue-rotate(360deg);
          opacity: 1;
        }
      }

      /* EFEITOS DE ERRO E SUCESSO INSANOS */
      .error-distortion {
        animation: insaneError 1s ease-in-out;
      }

      @keyframes insaneError {
        0%,
        100% {
          transform: scale(1) skew(0deg) rotateZ(0deg);
          filter: hue-rotate(0deg) contrast(1) brightness(1);
        }
        10% {
          transform: scale(1.2) skew(5deg) rotateZ(5deg);
          filter: hue-rotate(90deg) contrast(2) brightness(1.5);
        }
        20% {
          transform: scale(0.8) skew(-5deg) rotateZ(-5deg);
          filter: hue-rotate(180deg) contrast(3) brightness(0.5);
        }
        30% {
          transform: scale(1.1) skew(3deg) rotateZ(3deg);
          filter: hue-rotate(270deg) contrast(2) brightness(1.2);
        }
        40% {
          transform: scale(0.9) skew(-3deg) rotateZ(-3deg);
          filter: hue-rotate(360deg) contrast(1.5) brightness(0.8);
        }
        50% {
          transform: scale(1.05) skew(2deg) rotateZ(2deg);
          filter: hue-rotate(450deg) contrast(1.8) brightness(1.3);
        }
      }

      .success-explosion {
        animation: insaneSuccess 2s ease-out;
      }

      @keyframes insaneSuccess {
        0% {
          transform: scale(1);
          filter: hue-rotate(0deg) brightness(1);
        }
        25% {
          transform: scale(1.3);
          filter: hue-rotate(120deg) brightness(2);
        }
        50% {
          transform: scale(0.9);
          filter: hue-rotate(240deg) brightness(1.5);
        }
        75% {
          transform: scale(1.1);
          filter: hue-rotate(360deg) brightness(1.8);
        }
        100% {
          transform: scale(1);
          filter: hue-rotate(0deg) brightness(1);
        }
      }

      /* RESPONSIVIDADE */
      @media (max-width: 480px) {
        .calculator-container {
          width: 320px;
          padding: 16px;
        }

        .result {
          font-size: 2rem;
        }

        .btn {
          height: 50px;
          font-size: 1.1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="custom-cursor" id="customCursor"></div>
    <div class="insane-bg"></div>
    <div class="flying-numbers" id="flyingNumbers"></div>

    <div class="rope-system" id="ropeSystem">
      <div class="rope-anchor"></div>
    </div>

    <div class="calculator-physics" id="calculatorPhysics">
      <div class="calculator-container">
        <div class="electric-energy"></div>

        <div class="display-container">
          <div class="hologram-scanner"></div>
          <div class="quantum-interference"></div>
          <div class="typing-explosion" id="typingExplosion"></div>
          <div class="expression" id="expression"></div>
          <div class="result" id="result">0</div>
        </div>

        <div class="buttons-container">
          <button class="btn btn-clear" onclick="clearAll()">
            C
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn btn-clear" onclick="clearEntry()">
            CE
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn btn-operator" onclick="deleteLast()">
            ⌫
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn btn-operator" onclick="inputOperator('/')">
            /
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>

          <button class="btn" onclick="inputNumber('7')">
            7
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn" onclick="inputNumber('8')">
            8
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn" onclick="inputNumber('9')">
            9
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn btn-operator" onclick="inputOperator('*')">
            ×
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>

          <button class="btn" onclick="inputNumber('4')">
            4
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn" onclick="inputNumber('5')">
            5
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn" onclick="inputNumber('6')">
            6
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn btn-operator" onclick="inputOperator('-')">
            -
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>

          <button class="btn" onclick="inputNumber('1')">
            1
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn" onclick="inputNumber('2')">
            2
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn" onclick="inputNumber('3')">
            3
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn btn-operator" onclick="inputOperator('+')">
            +
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>

          <button class="btn btn-zero" onclick="inputNumber('0')">
            0
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn" onclick="inputDecimal()">
            .
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
          <button class="btn btn-equals" onclick="calculate()">
            =
            <div class="nuclear-explosion"></div>
            <div class="magnetic-field"></div>
            <div class="sound-waves"><div class="sound-wave"></div></div>
          </button>
        </div>
      </div>
    </div>

    <script>
      // Estado da calculadora
      let currentInput = "0";
      let expression = "";
      let shouldResetDisplay = false;

      // Elementos DOM
      const resultDisplay = document.getElementById("result");
      const expressionDisplay = document.getElementById("expression");
      const customCursor = document.getElementById("customCursor");
      const flyingNumbers = document.getElementById("flyingNumbers");
      const calculatorPhysics = document.getElementById("calculatorPhysics");
      const ropeSystem = document.getElementById("ropeSystem");
      const typingExplosion = document.getElementById("typingExplosion");

      // SISTEMA DE CURSOR CUSTOMIZADO INSANO
      let mouseX = 0,
        mouseY = 0;
      let cursorX = 0,
        cursorY = 0;

      document.addEventListener("mousemove", (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;

        // Criar rastro de partículas
        if (Math.random() < 0.3) {
          createMouseTrail(mouseX, mouseY);
        }
      });

      function updateCursor() {
        cursorX += (mouseX - cursorX) * 0.1;
        cursorY += (mouseY - cursorY) * 0.1;

        customCursor.style.left = cursorX + "px";
        customCursor.style.top = cursorY + "px";

        requestAnimationFrame(updateCursor);
      }

      function createMouseTrail(x, y) {
        const trail = document.createElement("div");
        trail.className = "mouse-trail";
        trail.style.left = x + "px";
        trail.style.top = y + "px";
        document.body.appendChild(trail);

        setTimeout(() => trail.remove(), 2000);
      }

      // SISTEMA DE NÚMEROS VOADORES INSANOS
      function createFlyingNumber() {
        const numbers = [
          "0",
          "1",
          "2",
          "3",
          "4",
          "5",
          "6",
          "7",
          "8",
          "9",
          "+",
          "-",
          "×",
          "÷",
          "=",
        ];
        const number = document.createElement("div");
        number.className = "flying-number";
        number.textContent =
          numbers[Math.floor(Math.random() * numbers.length)];
        number.style.left = Math.random() * 100 + "vw";
        number.style.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
        number.style.animationDuration = Math.random() * 5 + 5 + "s";
        number.style.animationDelay = Math.random() * 2 + "s";

        flyingNumbers.appendChild(number);

        setTimeout(() => {
          if (number.parentNode) {
            number.parentNode.removeChild(number);
          }
        }, 10000);
      }

      // Criar números voadores continuamente
      setInterval(createFlyingNumber, 500);

      // SISTEMA DE FÍSICA DO CORDÃO (como Vercel Ship)
      class RopePhysics {
        constructor() {
          this.segments = [];
          this.segmentCount = 15;
          this.segmentLength = 25;
          this.gravity = 0.5;
          this.friction = 0.99;
          this.isDragging = false;
          this.mouseConstraint = null;

          this.initRope();
          this.setupEventListeners();
          this.animate();
        }

        initRope() {
          const startX = window.innerWidth / 2;
          const startY = 50;

          for (let i = 0; i < this.segmentCount; i++) {
            this.segments.push({
              x: startX,
              y: startY + i * this.segmentLength,
              oldX: startX,
              oldY: startY + i * this.segmentLength,
              pinned: i === 0,
            });

            // Criar elemento visual
            const segment = document.createElement("div");
            segment.className = "rope-segment";
            ropeSystem.appendChild(segment);
          }
        }

        setupEventListeners() {
          let startX, startY;

          calculatorPhysics.addEventListener("mousedown", (e) => {
            this.isDragging = true;
            startX = e.clientX;
            startY = e.clientY;
            calculatorPhysics.style.cursor = "grabbing";
          });

          document.addEventListener("mousemove", (e) => {
            if (this.isDragging) {
              const deltaX = e.clientX - startX;
              const deltaY = e.clientY - startY;

              // Atualizar posição do último segmento (calculadora)
              const lastSegment = this.segments[this.segments.length - 1];
              lastSegment.x = e.clientX;
              lastSegment.y = e.clientY;

              // Aplicar força nos segmentos próximos
              for (let i = this.segments.length - 2; i >= 0; i--) {
                const segment = this.segments[i];
                const force = 0.1;
                segment.x += deltaX * force * (1 - i / this.segments.length);
                segment.y += deltaY * force * (1 - i / this.segments.length);
              }

              startX = e.clientX;
              startY = e.clientY;
            }
          });

          document.addEventListener("mouseup", () => {
            this.isDragging = false;
            calculatorPhysics.style.cursor = "grab";
          });
        }

        updatePhysics() {
          // Aplicar física Verlet
          for (let i = 1; i < this.segments.length; i++) {
            const segment = this.segments[i];

            if (!segment.pinned) {
              const velX = (segment.x - segment.oldX) * this.friction;
              const velY = (segment.y - segment.oldY) * this.friction;

              segment.oldX = segment.x;
              segment.oldY = segment.y;

              segment.x += velX;
              segment.y += velY + this.gravity;
            }
          }

          // Aplicar constraints
          for (let i = 0; i < this.segments.length - 1; i++) {
            const segmentA = this.segments[i];
            const segmentB = this.segments[i + 1];

            const dx = segmentB.x - segmentA.x;
            const dy = segmentB.y - segmentA.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            const difference = this.segmentLength - distance;
            const percent = difference / distance / 2;

            const offsetX = dx * percent;
            const offsetY = dy * percent;

            if (!segmentA.pinned) {
              segmentA.x -= offsetX;
              segmentA.y -= offsetY;
            }
            if (!segmentB.pinned) {
              segmentB.x += offsetX;
              segmentB.y += offsetY;
            }
          }
        }

        render() {
          const segments = ropeSystem.querySelectorAll(".rope-segment");

          for (let i = 0; i < this.segments.length; i++) {
            const segment = this.segments[i];
            const element = segments[i];

            if (element) {
              element.style.left = segment.x + "px";
              element.style.top = segment.y + "px";

              if (i < this.segments.length - 1) {
                const nextSegment = this.segments[i + 1];
                const angle = Math.atan2(
                  nextSegment.y - segment.y,
                  nextSegment.x - segment.x
                );
                element.style.transform = `rotate(${angle + Math.PI / 2}rad)`;
              }
            }
          }

          // Atualizar posição da calculadora
          const lastSegment = this.segments[this.segments.length - 1];
          calculatorPhysics.style.left = lastSegment.x + "px";
          calculatorPhysics.style.top = lastSegment.y + "px";
          calculatorPhysics.style.transform = "translate(-50%, -50%)";
        }

        animate() {
          this.updatePhysics();
          this.render();
          requestAnimationFrame(() => this.animate());
        }
      }

      // SISTEMA DE PARTÍCULAS DE DIGITAÇÃO INSANAS
      function createTypingExplosion() {
        for (let i = 0; i < 20; i++) {
          const particle = document.createElement("div");
          particle.className = "typing-particle";

          const angle = (i / 20) * Math.PI * 2;
          const distance = Math.random() * 150 + 50;
          const dx = Math.cos(angle) * distance;
          const dy = Math.sin(angle) * distance;

          particle.style.left = "50%";
          particle.style.top = "50%";
          particle.style.setProperty("--dx", dx + "px");
          particle.style.setProperty("--dy", dy + "px");
          particle.style.animationDelay = i * 0.02 + "s";

          typingExplosion.appendChild(particle);

          setTimeout(() => {
            if (particle.parentNode) {
              particle.parentNode.removeChild(particle);
            }
          }, 1500);
        }
      }

      // MORPHING DE NÚMEROS EXTREMO
      function extremeNumberMorph(element, newText) {
        element.innerHTML = "";

        for (let i = 0; i < newText.length; i++) {
          const span = document.createElement("span");
          span.className = "number-morph";
          span.textContent = newText[i];
          span.style.animationDelay = i * 0.1 + "s";
          span.style.color = `hsl(${Math.random() * 360}, 100%, 70%)`;
          element.appendChild(span);
        }
      }

      // Funções da calculadora
      function updateDisplay() {
        extremeNumberMorph(resultDisplay, currentInput);
        createTypingExplosion();
      }

      function updateExpression() {
        expressionDisplay.textContent = expression;
      }

      function inputNumber(num) {
        if (shouldResetDisplay) {
          currentInput = "0";
          shouldResetDisplay = false;
        }

        if (currentInput === "0") {
          currentInput = num;
        } else {
          currentInput += num;
        }

        updateDisplay();
      }

      function inputDecimal() {
        if (shouldResetDisplay) {
          currentInput = "0";
          shouldResetDisplay = false;
        }

        if (!currentInput.includes(".")) {
          currentInput += ".";
          updateDisplay();
        }
      }

      function inputOperator(operator) {
        if (expression && !shouldResetDisplay) {
          calculate();
        }

        expression = currentInput + " " + operator + " ";
        updateExpression();
        shouldResetDisplay = true;
      }

      function calculate() {
        if (!expression) return;

        try {
          const fullExpression = expression + currentInput;
          const evalExpression = fullExpression.replace(/×/g, "*");
          const result = Function(
            '"use strict"; return (' + evalExpression + ")"
          )();

          if (!isFinite(result)) {
            throw new Error("Resultado inválido");
          }

          currentInput = result.toString();
          expression = "";

          updateDisplay();
          updateExpression();

          resultDisplay.classList.add("success-explosion");
          setTimeout(() => {
            resultDisplay.classList.remove("success-explosion");
          }, 2000);

          shouldResetDisplay = true;
        } catch (error) {
          currentInput = "Erro";
          expression = "";
          updateDisplay();
          updateExpression();

          resultDisplay.classList.add("error-distortion");
          setTimeout(() => {
            resultDisplay.classList.remove("error-distortion");
            clearAll();
          }, 2000);
        }
      }

      function clearAll() {
        currentInput = "0";
        expression = "";
        updateDisplay();
        updateExpression();
        shouldResetDisplay = false;
      }

      function clearEntry() {
        currentInput = "0";
        updateDisplay();
      }

      function deleteLast() {
        if (currentInput.length > 1) {
          currentInput = currentInput.slice(0, -1);
        } else {
          currentInput = "0";
        }
        updateDisplay();
      }

      // Suporte a teclado
      document.addEventListener("keydown", function (event) {
        const key = event.key;

        if (key >= "0" && key <= "9") {
          inputNumber(key);
        } else if (key === ".") {
          inputDecimal();
        } else if (key === "+") {
          inputOperator("+");
        } else if (key === "-") {
          inputOperator("-");
        } else if (key === "*") {
          inputOperator("*");
        } else if (key === "/") {
          event.preventDefault();
          inputOperator("/");
        } else if (key === "Enter" || key === "=") {
          event.preventDefault();
          calculate();
        } else if (key === "Escape") {
          clearAll();
        } else if (key === "Backspace") {
          event.preventDefault();
          deleteLast();
        }
      });

      // Vibração insana
      document.querySelectorAll(".btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          if (navigator.vibrate) {
            navigator.vibrate([100, 50, 100, 50, 200]);
          }
        });
      });

      // Inicialização
      updateCursor();
      new RopePhysics();
      updateDisplay();

      // Efeitos contínuos insanos
      setInterval(() => {
        // Mudança de cor aleatória no fundo
        document.documentElement.style.setProperty(
          "--primary",
          `hsl(${Math.random() * 360}, 70%, 60%)`
        );
      }, 3000);

      // Criar explosões aleatórias
      setInterval(() => {
        if (Math.random() < 0.1) {
          const x = Math.random() * window.innerWidth;
          const y = Math.random() * window.innerHeight;
          createMouseTrail(x, y);
        }
      }, 1000);
    </script>
  </body>
</html>
